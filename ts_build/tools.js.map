{"version":3,"file":"tools.js","sourceRoot":"","sources":["../scrape/tools.js"],"names":[],"mappings":"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","sourcesContent":["let prompt = require('prompt');\nvar path = require('path');\nvar app = require(path.resolve(__dirname, '../server/server'));\nvar loopback = require('loopback');\n\nclass FftoolboxUtility {\n  constructor() {\n    this.Players = app.models.Player\n  }\n\n  findPlayerIdByFirstLast(first_name, last_name) {\n    return new Promise((resolve, reject) => {\n      this.Players.find({\n        where: {\n          first_name,\n          last_name\n        }\n      }).then((response) => {\n        if (response.length === 0) {\n          console.log(`There were no results for ${first_name} ${last_name}`);\n          console.log(`Enter 'quit' to exit or the id to continue`);\n          prompt.start();\n          prompt.get(['id'], (err, result) => {\n            this.Players.find({\n              where: {\n                id: result.id\n              }\n            }).then((response) => {\n              if (response.length === 1) {\n                resolve(result.id);\n              } else {\n                process.exit(1);\n              }\n            })\n          })\n        } else if (response.length > 1) {\n          console.log(`Multiple results were returned for ${first_name} ${last_name}`);\n          console.log(response);\n          console.log('Enter the zero based index of desired or -1 to exit');\n          prompt.start();\n          prompt.get(['index'], (err, result) => {\n            if (parseInt(result.index) === -1) {\n              process.exit(1);\n            } else {\n              resolve(response[parseInt(result.index)].id);\n            }\n          })\n        } else {\n          console.log(response[0]);\n          resolve(response[0].id);\n        }\n      });\n    })\n  }\n}\n\nmodule.exports = {\n  FftoolboxUtility\n};\n"]}